<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>PBL 9: Pathophysiology Mind Map</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <style>

        body {

            background-color: #f8fafc;

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

        }

        

        /* Tree Connector Lines */

        .tree-line {

            position: absolute;

            background-color: #94a3b8;

            z-index: 0;

        }



        /* Node Styling */

        .node {

            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

            z-index: 10;

            cursor: pointer;

        }

        

        .node:hover {

            transform: translateY(-5px);

            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

        }



        .node-active {

            ring: 4px solid #3b82f6;

            transform: scale(1.02);

        }



        /* Custom Scrollbar */

        ::-webkit-scrollbar {

            width: 8px;

        }

        ::-webkit-scrollbar-track {

            background: #f1f1f1;

        }

        ::-webkit-scrollbar-thumb {

            background: #cbd5e1;

            border-radius: 4px;

        }

        ::-webkit-scrollbar-thumb:hover {

            background: #94a3b8;

        }

        

        .glass-panel {

            background: rgba(255, 255, 255, 0.95);

            backdrop-filter: blur(8px);

        }

    </style>

</head>

<body class="bg-slate-50 min-h-screen flex flex-col">



    <!-- Header -->

    <header class="bg-slate-900 text-white py-4 shadow-lg sticky top-0 z-50">

        <div class="max-w-7xl mx-auto px-4 flex justify-between items-center">

            <div class="flex items-center gap-3">

                <div class="bg-blue-500 p-2 rounded-lg">

                    <i class="fa-solid fa-sitemap text-white text-lg"></i>

                </div>

                <div>

                    <h1 class="font-bold text-xl tracking-tight">PBL 9: Pathophysiology Map</h1>

                    <p class="text-xs text-slate-400">Supracondylar Humerus Fracture & Signs</p>

                </div>

            </div>

            <div class="text-sm text-slate-400 hidden md:block">

                Click any box to see detailed pathophysiology

            </div>

        </div>

    </header>



    <main class="flex-grow p-4 md:p-8 overflow-x-auto">

        <div class="max-w-7xl mx-auto relative min-w-[1000px]">

            

            <!-- ROOT NODE: INJURY -->

            <div class="flex justify-center mb-16 relative">

                <div onclick="showDetail('injury')" class="node bg-slate-800 text-white p-6 rounded-xl shadow-xl w-80 text-center border-4 border-slate-600 relative z-20 hover:border-blue-400">

                    <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider">The Event</div>

                    <h2 class="text-2xl font-bold mb-1">Fall on Outstretched Hand</h2>

                    <p class="text-blue-200 text-sm font-semibold">(FOOSH)</p>

                    <div class="mt-3 text-xs text-slate-300 border-t border-slate-600 pt-2">

                        Hyperextension Injury &rarr; <br><span class="text-white font-bold text-lg">Supracondylar Fracture</span>

                    </div>

                </div>

                

                <!-- Main Vertical Line Down -->

                <div class="tree-line w-1 h-16 bg-slate-400 top-full left-1/2 transform -translate-x-1/2"></div>

            </div>



            <!-- THREE MAIN BRANCHES -->

            <div class="grid grid-cols-3 gap-8 relative">

                <!-- Horizontal Connector Line -->

                <div class="tree-line h-1 bg-slate-400 w-2/3 top-[-32px] left-1/6 ml-[16.666%]"></div>

                <!-- Vertical Connectors to Branches -->

                <div class="tree-line w-1 h-8 bg-slate-400 -top-8 left-1/2 transform -translate-x-1/2 absolute"></div> <!-- Center -->

                <div class="tree-line w-1 h-8 bg-slate-400 -top-8 left-[16.666%] ml-8 absolute"></div> <!-- Left -->

                <div class="tree-line w-1 h-8 bg-slate-400 -top-8 right-[16.666%] mr-8 absolute"></div> <!-- Right -->





                <!-- BRANCH 1: STRUCTURAL / BONE -->

                <div class="flex flex-col items-center">

                    <div class="bg-amber-100 text-amber-900 px-4 py-2 rounded-full font-bold text-sm mb-4 shadow-sm border border-amber-200 z-10">

                        <i class="fa-solid fa-bone mr-2"></i>Structural & Tissue

                    </div>

                    

                    <!-- Node: Pain/Swelling -->

                    <div onclick="showDetail('swelling')" class="node bg-white p-4 rounded-lg shadow-md border-l-4 border-amber-500 w-full mb-6 relative">

                        <div class="tree-line w-1 h-6 bg-slate-300 -bottom-6 left-1/2 transform -translate-x-1/2"></div>

                        <h3 class="font-bold text-lg">Pain & Swelling</h3>

                        <p class="text-xs text-slate-500 mt-1">Due to Hemarthrosis</p>

                    </div>



                    <!-- Node: Deformity -->

                    <div onclick="showDetail('deformity')" class="node bg-white p-4 rounded-lg shadow-md border-l-4 border-amber-500 w-full mb-6 relative">

                         <div class="tree-line w-1 h-6 bg-slate-300 -bottom-6 left-1/2 transform -translate-x-1/2"></div>

                        <h3 class="font-bold text-lg">Deformity</h3>

                        <p class="text-xs text-slate-500 mt-1">Distal Fragment Posterior</p>

                    </div>



                    <!-- Node: Cubitus Varus -->

                    <div onclick="showDetail('varus')" class="node bg-amber-50 p-4 rounded-lg shadow-md border border-amber-200 w-full">

                        <h3 class="font-bold text-lg text-amber-800">Cubitus Varus</h3>

                        <p class="text-xs text-amber-700 mt-1">"Gunstock Deformity"</p>

                        <span class="block mt-2 text-[10px] bg-amber-200 text-amber-900 px-2 py-1 rounded inline-block">Malunion Complication</span>

                    </div>

                </div>





                <!-- BRANCH 2: VASCULAR (CENTRAL & CRITICAL) -->

                <div class="flex flex-col items-center">

                    <div class="bg-red-100 text-red-900 px-4 py-2 rounded-full font-bold text-sm mb-4 shadow-sm border border-red-200 z-10 animate-pulse">

                        <i class="fa-solid fa-heart-pulse mr-2"></i>Vascular (Critical)

                    </div>



                    <!-- Node: Artery Injury -->

                    <div onclick="showDetail('artery')" class="node bg-white p-5 rounded-lg shadow-lg border-l-4 border-red-600 w-full mb-8 relative">

                        <div class="tree-line w-1 h-8 bg-slate-300 -bottom-8 left-1/2 transform -translate-x-1/2"></div>

                        <h3 class="font-bold text-xl text-red-700">Brachial Artery Injury</h3>

                        <p class="text-xs text-slate-500 mt-2">Kinking or Vasospasm over fracture spike</p>

                    </div>



                    <!-- Split for Pulse vs Perfusion -->

                    <div class="grid grid-cols-2 gap-4 w-full relative">

                        <!-- Connector Tree -->

                        <div class="tree-line w-full h-1 bg-slate-300 -top-4 left-0"></div>

                        <div class="tree-line w-1 h-4 bg-slate-300 -top-4 left-1/4 transform -translate-x-1/2"></div>

                        <div class="tree-line w-1 h-4 bg-slate-300 -top-4 right-1/4 transform -translate-x-1/2"></div>



                        <!-- Left: No Pulse -->

                        <div onclick="showDetail('nopulse')" class="node bg-red-50 p-3 rounded shadow border border-red-100 text-center hover:bg-red-100">

                            <i class="fa-solid fa-ban text-red-500 text-xl mb-1"></i>

                            <h4 class="font-bold text-red-800 text-sm">Absent Pulse</h4>

                            <p class="text-[10px] text-red-600 leading-tight mt-1">Loss of pulsatile flow</p>

                        </div>



                        <!-- Right: Pink Hand -->

                        <div onclick="showDetail('pinkhand')" class="node bg-green-50 p-3 rounded shadow border border-green-100 text-center hover:bg-green-100">

                            <i class="fa-solid fa-hand-holding-droplet text-green-500 text-xl mb-1"></i>

                            <h4 class="font-bold text-green-800 text-sm">Pink Hand</h4>

                            <p class="text-[10px] text-green-600 leading-tight mt-1">Collaterals Intact</p>

                        </div>

                    </div>

                </div>





                <!-- BRANCH 3: NEUROLOGICAL -->

                <div class="flex flex-col items-center">

                    <div class="bg-yellow-100 text-yellow-900 px-4 py-2 rounded-full font-bold text-sm mb-4 shadow-sm border border-yellow-200 z-10">

                        <i class="fa-solid fa-bolt mr-2"></i>Neurological

                    </div>



                    <!-- Node: Median Nerve -->

                    <div onclick="showDetail('nerve')" class="node bg-white p-5 rounded-lg shadow-lg border-l-4 border-yellow-500 w-full mb-8 relative">

                        <div class="tree-line w-1 h-8 bg-slate-300 -bottom-8 left-1/2 transform -translate-x-1/2"></div>

                        <h3 class="font-bold text-xl text-slate-800">Median Nerve</h3>

                        <p class="text-xs text-slate-500 mt-2">Compressed by anterior spike</p>

                    </div>



                    <!-- Split for Motor vs Sensory -->

                    <div class="grid grid-cols-2 gap-4 w-full relative">

                        <!-- Connector Tree -->

                        <div class="tree-line w-full h-1 bg-slate-300 -top-4 left-0"></div>

                        <div class="tree-line w-1 h-4 bg-slate-300 -top-4 left-1/4 transform -translate-x-1/2"></div>

                        <div class="tree-line w-1 h-4 bg-slate-300 -top-4 right-1/4 transform -translate-x-1/2"></div>



                        <!-- Left: Motor -->

                        <div onclick="showDetail('benediction')" class="node bg-yellow-50 p-3 rounded shadow border border-yellow-100 text-center hover:bg-yellow-100">

                            <i class="fa-solid fa-hand-spock text-yellow-600 text-xl mb-1"></i>

                            <h4 class="font-bold text-slate-800 text-sm">Benediction Sign</h4>

                            <p class="text-[10px] text-slate-600 leading-tight mt-1">AIN Motor Loss</p>

                        </div>



                        <!-- Right: Sensory -->

                        <div onclick="showDetail('sensory')" class="node bg-yellow-50 p-3 rounded shadow border border-yellow-100 text-center hover:bg-yellow-100">

                            <i class="fa-solid fa-fingerprint text-yellow-600 text-xl mb-1"></i>

                            <h4 class="font-bold text-slate-800 text-sm">Numbness</h4>

                            <p class="text-[10px] text-slate-600 leading-tight mt-1">Radial Palm</p>

                        </div>

                    </div>

                </div>

            </div>

        </div>



        <!-- DETAIL PANEL (Fixed Bottom) -->

        <div id="detailPanel" class="fixed bottom-0 left-0 right-0 glass-panel border-t border-slate-200 shadow-2xl transform translate-y-full transition-transform duration-300 z-50 p-6 md:p-8 max-h-[50vh] overflow-y-auto">

            <div class="max-w-4xl mx-auto relative">

                <button onclick="closeDetail()" class="absolute top-0 right-0 text-slate-400 hover:text-slate-800 p-2">

                    <i class="fa-solid fa-xmark text-2xl"></i>

                </button>

                

                <div id="panelContent">

                    <!-- Dynamic Content loads here -->

                </div>

            </div>

        </div>



    </main>



    <script>

        const details = {

            injury: {

                title: "Pathophysiology: The Mechanism (FOOSH)",

                icon: "fa-person-falling-burst",

                color: "text-slate-800",

                content: `

                    <div class="grid md:grid-cols-2 gap-6">

                        <div>

                            <h4 class="font-bold text-blue-600 mb-2">The Fulcrum Effect</h4>

                            <p class="text-sm text-slate-600 mb-3">When Kajool fell on her outstretched hand with the elbow hyperextended, the <strong>olecranon</strong> (ulna) was driven forcefully into the <strong>olecranon fossa</strong> (humerus).</p>

                            <p class="text-sm text-slate-600">The olecranon acted as a fulcrum, snapping the thin bone of the supracondylar region.</p>

                        </div>

                        <div class="bg-slate-100 p-4 rounded-lg">

                            <h4 class="font-bold text-slate-700 mb-2">Why this location?</h4>

                            <ul class="text-sm list-disc pl-4 space-y-2 text-slate-600">

                                <li><strong>Remodeling:</strong> In 5-year-olds, the metaphysis is remodeling, making the cortex thin and weak.</li>

                                <li><strong>Ligament Strength:</strong> The ligaments are stronger than the bone, so the bone breaks before the joint dislocates.</li>

                            </ul>

                        </div>

                    </div>

                `

            },

            swelling: {

                title: "Sign: Pain & Swelling",

                icon: "fa-bandage",

                color: "text-amber-600",

                content: `